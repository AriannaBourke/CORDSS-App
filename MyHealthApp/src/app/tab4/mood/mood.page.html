<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Mood</ion-title>
    <ion-button slot="end" size="small" (click)="addMood()"
      ><ion-icon slot="start" name="add"></ion-icon>Add</ion-button
    >
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <form [formGroup]="moodForm" #form="ngForm">
    <ion-card
      formArrayName="moodInfo"
      *ngFor="let mood of getMoodInfo().controls ; let i=index"
    >
      <ion-grid>
        <ion-row>
          <ion-col>
            <ion-label class="mood-header"
              >How are you feeling today?</ion-label
            >
            <ion-icon
              style="float: right"
              name="trash-outline"
              size="large"
              (click)="removeMood(i)"
            ></ion-icon>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item [formGroupName]="i">
              <ion-icon
                slot="start"
                name="calendar-outline"
                size="small"
              ></ion-icon>
              <ion-datetime
                displayFormat="DD MMMM YYYY"
                placeholder="Today's Date"
                formControlName="date"
              ></ion-datetime>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-label>Happy</ion-label>
            <ion-item [formGroupName]="i" lines="none">
              <ion-range min="20" max="80" step="2" formControlName="happy">
                <ion-icon
                  slot="start"
                  size="small"
                  name="sad-outline"
                ></ion-icon>
                <ion-icon
                  slot="end"
                  size="small"
                  name="happy-outline"
                ></ion-icon>
              </ion-range>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-label>Independent</ion-label>
            <ion-item [formGroupName]="i">
              <ion-range
                min="20"
                max="80"
                step="2"
                formControlName="independent"
              >
                <ion-icon
                  slot="start"
                  size="small"
                  name="thumbs-down-outline"
                ></ion-icon>
                <ion-icon
                  slot="end"
                  size="small"
                  name="thumbs-up-outline"
                ></ion-icon>
              </ion-range>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item [formGroupName]="i" lines="none">
              <ion-icon
                slot="start"
                name="chatbox-ellipses-outline"
                size="small"
              ></ion-icon>
              <ion-textarea
                formControlName="notes"
                placeholder="Notes"
              ></ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card>
  </form>
</ion-content>
